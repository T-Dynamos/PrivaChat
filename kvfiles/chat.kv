
<ChatText>:
	text:""
	nickname:app.nickname
	anchor_x:"right"
	size_hint_y: None
	minimum_height:dp(70)
	size:app.x(),dp(70)
	size_hint:1,None
	height: self.minimum_height
	size_hint_x: None
	width:app.x()
	MDCard:
		radius:dp(10),0,0,dp(10)
		size_hint_y: None
		size:appx.x()-dp(70),dp(70)
		minimum_height:dp(70)
		size_hint:None,None
		height: self.minimum_height
		size_hint_x: None
		width:app.x()
		padding:dp(10) 
		orientation:"vertical"
		md_bg_color:app.theme_cls.primary_color
		RelativeLayout:
			MDLabel:
				pos_hint:{"center_x":0.5,"center_y":0.99}
				text:root.nickname+" "+app.date()
				font_name:"assets/Poppins-Medium.ttf"
				font_size:dp(7)

			MDLabel:
				text:root.text
				font_name:"assets/Poppins-Regular.ttf"

<PersonText>:
	text:""
	nickname:''
	size_hint:None,None 
	size:app.x(),dp(70)
	AnchorLayout:
		anchor_x:"left"
		size_hint:None,None 
		size:app.x(),dp(70)
		MDCard:
			radius:0,dp(10),dp(10),0
			size_hint:None,None 
			size:app.x()-dp(70),dp(70)
			padding:dp(10) 
			orientation:"vertical"
			md_bg_color:app.theme_cls.accent_color
			RelativeLayout:
				MDLabel:
					pos_hint:{"center_x":0.5,"center_y":0.99}
					text:root.nickname+" "+app.date()
					font_name:"assets/Poppins-Medium.ttf"
					font_size:dp(7)

				MDLabel:
					text:root.text
					font_name:"assets/Poppins-Regular.ttf"

ModalView:
	background_color:0,0,0,0
	on_open:app.open_modal(self)
	on_dismiss:app.close_modal(self)
	opacity:0
	AnchorLayout:
		anchor_y:"top"
		MDRelativeLayout:
			size_hint:None,None 
			size:app.x(),app.y()
			id:main_handler
			md_bg_color:app.theme_cls.bg_light
			FitImage:
				source:app.chat_img
			AnchorLayout:
				anchor_y:"top"
				md_bg_color:0,0,0,0
				ScrollView:
					size_hint:None,None 
					size:main_handler.width,main_handler.height
					id:view
					scroll_type:["bars", "content"]
					MDGridLayout:
						id:chat_handler
						adaptive_height:True
						cols:1
						spacing:dp(10)
			AnchorLayout:
				anchor_y:"bottom"

				RelativeLayout:
					size_hint:None,None 
					size:main_handler.width,dp(70)
					BoxLayout:
						pos_hint:{"center_x":0.43,"center_y":0.52}
						size_hint:None,None 
						size:app.x()-dp(80),dp(40)
						MDTextField:
							id:text_feild
							hint_text:"Enter the message"
							font_name_hint_text:"assets/Poppins-Regular.ttf"
							mode:"fill"
							max_text_length:app.chat_length
							radius:dp(10),dp(10),dp(10),dp(10)
							line_color_normal:0,0,0,0
							line_color_focus:0,0,0,0
							active_line:False
							font_name:"assets/Poppins-Regular.ttf"
							on_focus:app.change_size_keyboard(main_handler)
							keyboard_suggestions:True
							on_text_validate:app.client[0](text_feild.text)


					MDIconButton:
						pos_hint:{"center_x":0.9,"center_y":0.62}
						md_bg_color:app.theme_cls.primary_color
						icon:"send"
						on_press:app.client[0](text_feild.text)
