
<ChatText>:
	text:""
	nickname:app.nickname
	width:app.x()
	adaptive_height:True
	MDCustomCard:
		pos_hint:{"center_x":0.55}
		radius:dp(10),0,0,dp(10)
		size_hint_x: 0.9
		width: app.x()-dp(70)
		adaptive_height:True
		opacity:1
		padding:dp(10)
		orientation:"vertical"
		md_bg_color:app.chat_color
		on_press:app.erase_message(root)
		MDLabel:
			text:"[font=assets/SourceCodePro-Regular.otf]["+app.date()+"][/font] : "+"[color=#1976D2]"+root.nickname+"[/color]"
			font_name:"assets/Poppins-Bold.ttf"
			font_size:"13sp"
			markup:True
			halign:'left'
		MDLabel:
			markup:True
			adaptive_height:True
			text:root.text+str(app.ch_s(self.size))[:-4]
			font_name:"assets/Poppins-Regular.ttf"
			font_size:"15sp"



<PersonText>:
	text:""
	nickname:app.nickname
	width:app.x()
	adaptive_height:True
	MDCustomCard:
		pos_hint:{"center_x":0.45}
		radius:0,dp(10),dp(10),0
		size_hint_x:0.9
		width:app.x()-dp(70)
		adaptive_height:True
		padding:dp(10) 
		orientation:"vertical"
		md_bg_color:app.theme_cls.bg_normal
		on_press:app.erase_message(root)
		MDLabel:
			text:"[font=assets/SourceCodePro-Regular.otf]["+app.date()+"][/font] : "+"[color=#FF9800]"+root.nickname+"[/color]"
			font_name:"assets/Poppins-Bold.ttf"
			font_size:"13sp"
			markup:True
			halign:'left'
		MDLabel:
			markup:True
			adaptive_height:True
			text:root.text+str(app.ch_s(self.size))[:-4]
			font_name:"assets/Poppins-Regular.ttf"
			font_size:"15sp"
ModalView:
	background_color:0,0,0,0
	on_open:app.open_modal(self)
	on_dismiss:app.close_modal(self)
	opacity:0
	FitImage:
		source:app.chat_img
	AnchorLayout:
		anchor_y:"top"
		MDRelativeLayout:
			size_hint:None,None 
			size:app.x(),app.y()
			id:main_handler
			md_bg_color:0,0,0,0
			AnchorLayout:
				anchor_y:"top"
				md_bg_color:0,0,0,0
				ScrollView:
					size_hint:None,None 
					size:main_handler.width,main_handler.height-dp(80)
					id:view
					scroll_type:["bars", "content"]
					MDGridLayout:
						id:chat_handler
						adaptive_height:True
						cols:1
						spacing:dp(10)
						MDLabel:
			AnchorLayout:
				anchor_y:"bottom"

				RelativeLayout:
					size_hint:None,None 
					size:main_handler.width,dp(70)
					BoxLayout:
						pos_hint:{"center_x":0.43,"center_y":0.52}
						size_hint:0.8,0.9
						MDTextField:
							id:text_feild
							#hint_text:"Enter the message"
							font_name:"assets/Poppins-Regular.ttf"
							mode:"fill"
							#max_text_length:app.chat_length
							radius:dp(10),dp(10),dp(10),dp(10)
							
							active_line:False
							font_name:"assets/Poppins-Regular.ttf"
							on_focus:app.change_size_keyboard()
							keyboard_suggestions:True
							multiline: True


					MDIconButton:
						pos_hint:{"center_x":0.9,"center_y":0.5}
						md_bg_color:app.theme_cls.primary_color
						icon:"send"
						on_press:app.client[0](text_feild.text)
